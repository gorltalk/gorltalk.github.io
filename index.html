<!DOCTYPE html>
<html>
<head>
    <title>GorlTalk Boombox</title>
    <meta name="referrer" content="no-referrer">
    <style>
        body {
            background: #000;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: Arial;
        }
        #boombox {
            width: 800px; /* Original image size */
            cursor: pointer;
        }
        /* Visualize buttons (remove later) */
        area {
            outline: 3px dashed red !important;
        }
    </style>
</head>
<body>
    <!-- Original image - no scaling -->
    <img id="boombox" src="boombox.png" usemap="#buttons">
    
    <!-- FINAL PERFECT COORDINATES -->
    <map name="buttons">
        <!-- Left Triangle -->
        <area shape="rect" coords="210,620,290,700" data-action="prev" 
              onclick="handleControl('prev')">
        <!-- Center Triangle -->
        <area shape="rect" coords="400,620,480,700" data-action="play" 
              onclick="handleControl('play')">
        <!-- Right Triangle -->
        <area shape="rect" coords="590,620,670,700" data-action="next" 
              onclick="handleControl('next')">
    </map>

    <div id="status" style="color:cyan; margin-top:20px;">Loading player...</div>

    <script>
    // 1. SIMPLE PLAYER CONTROL
    let player;
    
    function handleControl(action) {
        if (!player) return;
        
        switch(action) {
            case 'play':
                if (player.getPlayerState() === 1) {
                    player.pauseVideo();
                    document.getElementById('status').textContent = "⏸ Paused";
                } else {
                    player.playVideo();
                    document.getElementById('status').textContent = "▶️ Playing";
                }
                break;
                
            case 'next':
                document.getElementById('status').textContent = "⏭️ Next Track";
                break;
                
            case 'prev':
                document.getElementById('status').textContent = "⏮️ Previous Track";
                break;
        }
    }

    // 2. RELIABLE YOUTUBE LOAD
    function loadPlayer() {
        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        document.head.appendChild(tag);
        
        window.onYouTubeIframeAPIReady = function() {
            player = new YT.Player('player', {
                height: '0',
                width: '0',
                videoId: 'dQw4w9WgXcQ',
                playerVars: {
                    autoplay: 0,
                    controls: 0,
                    origin: window.location.href
                },
                events: {
                    'onReady': function(e) {
                        e.target.setVolume(80);
                        document.getElementById('status').textContent = "✅ Ready! Click buttons";
                        console.log("Player fully loaded!");
                    }
                }
            });
        };
    }

    // 3. START PLAYER
    loadPlayer();
    </script>
</body>
</html>
